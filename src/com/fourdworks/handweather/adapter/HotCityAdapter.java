package com.fourdworks.handweather.adapter;import com.fourdworks.handweather.R;import com.fourdworks.handweather.db.HandWeatherDAO;import com.fourdworks.handweather.global.CostantValue;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.TextView;/** * 功能:热门城市适配器 作者:mike 时间：2015-11-2 上午10:55:11 修改: */public class HotCityAdapter extends BaseAdapter {	Context c;// 环境变量	public HotCityAdapter(Context c) {		super();		this.c = c;	}	/*	 * 返回列表项的总个数	 */	@Override	public int getCount() {		// TODO Auto-generated method stub		return CostantValue.hotCitys.length;	}	/*	 * 返回当前下标对应列表项的数据	 */	@Override	public Object getItem(int position) {		// TODO Auto-generated method stub		return CostantValue.hotCitys[position];	}	/*	 * 返回当前列表项下标	 */	@Override	public long getItemId(int position) {		// TODO Auto-generated method stub		return position;	}	@Override	public View getView(int position, View convertView, ViewGroup parent) {		View v = convertView;		// TODO Auto-generated method stub		ViewHolder holder;		// 1.初始化列表项对应视图		if (v == null) {			// 布局转化器			LayoutInflater inflater = LayoutInflater.from(c);			// 布局-->（布局转化器）--->视图			v = inflater.inflate(R.layout.item_hotcity, null);			// 2.初始化视图中的控件			holder = new ViewHolder();			holder.locationIcon = (ImageView) v					.findViewById(R.id.location_icon);			holder.cityName = (TextView) v.findViewById(R.id.city_name);			holder.selectedIcon = (ImageView) v					.findViewById(R.id.selected_icon);			// 装包			v.setTag(holder);		} else {			// 卸包			holder = (ViewHolder) v.getTag();		}		// 3.获取当前列表项对应的数据模型		String cityName = (String) getItem(position);		// 4.将数据设置到控件中		holder.cityName.setText(cityName);// 设置城市名字		// 如果position == 0，显示定位图标		if (position == 0) {			holder.locationIcon.setVisibility(View.VISIBLE);		}else{			holder.locationIcon.setVisibility(View.INVISIBLE);		}				// 如果城市存在于用户城市表的话，就显示选中图标		if (HandWeatherDAO.getInstance().isCityExists(cityName)) {			holder.selectedIcon.setVisibility(View.VISIBLE);		}else{			holder.selectedIcon.setVisibility(View.INVISIBLE);		}		return v;	}	/**	 * 功能:用于保存列表项总的控件 作者:mike 时间：2015-11-2 上午11:13:48 修改:	 */	class ViewHolder {		ImageView locationIcon, selectedIcon;// 定位图标,选中图标		TextView cityName;// 城市名字	}}